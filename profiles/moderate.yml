name: moderate
kind: profile
sections:
  Principles:
    - Balance safety with productivity.
    - Ask when uncertain or actions are risky.
  Workflow:
    - Plan for complex tasks; keep simple tasks lightweight.
  Build System:
    - Default to Make; every repo must include a Makefile.
    - "Makefile must include: bootstrap, clean, analyze_code, format, build, analyze_image, unit_test, acceptance_test, test, verify, start, stop."
    - Makefile should be scaffolded during project initialization (app or infra variant as appropriate).
    - Infra repos may implement analyze_image/start/stop as no-ops when not applicable.
  Analysis:
    - Always use static analysis and security scanning tools.
  Security:
    - Always use security scanning tools.
  Quality:
    - Always generate unit tests for changes.
    - Target unit test coverage of 70% or better.
    - Run unit tests after each code change.
    - If a test cannot be written, ask for guidance before proceeding.
    - Infra targets may request coverage exceptions when the metric is not meaningful.
