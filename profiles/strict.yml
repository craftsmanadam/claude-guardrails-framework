name: strict
kind: profile
sections:
  Principles:
    - Prefer safety and compliance over speed or convenience.
    - Require explicit user confirmation for destructive actions.
    - Avoid making assumptions; ask for clarification when needed.
    - Follow Single Responsibility Principle (SRP).
    - Follow DRY (Do Not Repeat Yourself).
    - Favor separation of concerns.
    - Encapsulate related data and behavior within well-defined functions, classes, or modules.
    - Avoid exposing internal state or implementation details beyond their intended scope.
    - Interactions between components should occur through well-defined inputs and outputs.
    - Aim for high cohesion and low coupling.
    - Prefer explicit over implicit behavior.
    - Fail fast on invalid states or inputs.
    - Prefer composition over inheritance.
    - Treat testability as a first-class concern.
  Workflow:
    - Use planning for multi-step tasks and track progress.
    - Make the smallest set of changes necessary to achieve the stated goal.
    - Write acceptance tests before application code.
    - "Gherkin must be reviewed by a human before production code is written."
  Build System:
    - Default to Make; every repo must include a Makefile.
    - "Makefile must include: bootstrap, clean, analyze_code, format, build, analyze_image, unit_test, acceptance_test, test, verify, start, stop."
  Analysis:
    - text: Always use static analysis and security scanning tools.
      exclude_when:
        targets: [sql]
  Security:
    - text: Always use security scanning tools.
      exclude_when:
        targets: [sql]
  Quality:
    - Always generate unit tests for changes for application code.
    - Target unit test coverage of 90% or better.
    - Run unit tests after each code change.
    - If a test cannot be written, ask for guidance before proceeding.
    - Document non-obvious decisions.
